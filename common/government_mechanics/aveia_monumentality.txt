monumentality_mechanic = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 4

	# Needs to be tested
	# available = {
	# 	has_dlc = "Rights of Man"
	# }

	powers = {
		godly_favor = {
			gui = monumentality_gov_mech_power
			max = 100
			default = 80
			base_monthly_growth = -0.2
			scaled_modifier = {
				trigger = {
					monthly_income = 50
				}
				modifier = {
					monthly_godly_favor = -0.1
				}
			}
			scaled_modifier = {
				trigger = {
					monthly_income = 30
				}
				modifier = {
					monthly_godly_favor = -0.1
				}
			}
			scaled_modifier = {
				trigger = {
					monthly_income = 20
				}
				modifier = {
					monthly_godly_favor = -0.1
				}
			}
			scaled_modifier = {
				trigger = {
					monthly_income = 10
				}
				modifier = {
					monthly_godly_favor = -0.1
				}
			}
			scaled_modifier = {
				modifier = {
					monthly_splendor = 2
					tolerance_own = 1
					stability_cost_modifier = -0.2
				}
			}
			reverse_scaled_modifier = {
				trigger = {
					always = yes
				}
				modifier = {
					monthly_splendor = -2
					tolerance_own = -1
					stability_cost_modifier = 0.2
					legitimacy = -1.0
					republican_tradition = -0.5
					devotion = -1.0
					horde_unity = -1.0
					meritocracy = -1.0
				}
			}
			on_min_reached = {
				add_stability = -1
				set_government_power = { # sets the power to the specified amount
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 10
				}

			}
			is_good = yes
		}
	}
	
	interactions = {
		offer_sacrifice = {
			gui = monumentality_gov_mech_sacc
			cost_type = godly_favor
			center = no
			trigger = {
				adm_power = 24
				dip_power = 24
				mil_power = 24
				not = {
					has_government_power = {
						mechanic_type = monumentality_mechanic
						power_type = godly_favor
						value = 100
					}
				}
			}
			effect = { 
				add_adm_power = -24
				add_dip_power = -24
				add_mil_power = -24
				add_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 5
				}
			}
			cooldown_years = 2
			ai_chance = {
				factor = 10
				modifier = {
					factor = 10
					not = {
						has_government_power = {
							mechanic_type = monumentality_mechanic
							power_type = godly_favor
							value = 80
						}
					}
					adm_power = 200
					dip_power = 200
					mil_power = 200
				}
				modifier = {
					factor = 10
					not = {
						has_government_power = {
							mechanic_type = monumentality_mechanic
							power_type = godly_favor
							value = 50
						}
					}
				}
			}
		}
		build_monument = {
			gui = monumentality_gov_mech_build_1
			cost_type = godly_favor
			center = no
			trigger = {
				years_of_income = 0.25
				not = {
					has_government_power = {
						mechanic_type = monumentality_mechanic
						power_type = godly_favor
						value = 100
					}
				}
			}
			effect = { 
				add_years_of_income = -0.25
				add_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 10
				}
			}
			cooldown_years = 5
			ai_chance = {
				factor = 10
				modifier = {
					factor = 10
					not = {
						has_government_power = {
							mechanic_type = monumentality_mechanic
							power_type = godly_favor
							value = 90
						}
					}
					years_of_income = 2.0
				}
				modifier = {
					factor = 10
					not = {
						has_government_power = {
							mechanic_type = monumentality_mechanic
							power_type = godly_favor
							value = 50
						}
					}
					years_of_income = 0.5
				}
				modifier = {
					factor = 10
					not = {
						has_government_power = {
							mechanic_type = monumentality_mechanic
							power_type = godly_favor
							value = 0
						}
					}
				}
			}
		}
		start_grand_project = {
			gui = monumentality_gov_mech_build_2
			cost_type = godly_favor
			center = no
			trigger = {
				treasury = 500
				not = {
					has_government_power = {
						mechanic_type = monumentality_mechanic
						power_type = godly_favor
						value = 100
					}
				}
			}
			effect = { 
				add_treasury = -500
				add_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 25
				}
			}
			cooldown_years = 10
			ai_chance = {
				factor = 10
				modifier = {
					factor = 10
					not = {
						has_government_power = {
							mechanic_type = monumentality_mechanic
							power_type = godly_favor
							value = 50
						}
					}
					treasury = 300
					years_of_income = 1.5
				}
			}
		}
		raid_monument = {
			gui = monumentality_gov_mech_pay_1
			center = no
			trigger = {
				has_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 10
				}
			}
			effect = { 
				add_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = -10
				}
			}
			cooldown_years = 0
			ai_chance = {
				factor = 0
			}
		}
		godly_blessing = {
			gui = monumentality_gov_mech_pay_2
			center = no
			trigger = {
				has_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 10
				}
			}
			effect = { 
				add_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = -10
				}
			}
			cooldown_years = 0
			ai_chance = {
				factor = 0
			}
		}
		bless_dynasty = {
			gui = monumentality_gov_mech_pay_3
			center = no
			trigger = {
				has_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = 10
				}
			}
			effect = { 
				add_government_power = {
					mechanic_type = monumentality_mechanic
					power_type = godly_favor
					value = -10
				}
			}
			cooldown_years = 0
			ai_chance = {
				factor = 0
			}
		}
	}
}