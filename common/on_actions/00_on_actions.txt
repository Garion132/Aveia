#When adding effects directly in on_actions always consider if it would be best to do so through a scripted effect. on_actions with a lot of script in them are harder to get an overview of.

# country
on_startup = {
	emperor = {
		save_global_event_target_as = Emperor
	}
	if = {
		limit = {
			is_emperor_of_china = yes
		}
		save_global_event_target_as = EmperorOfChina
	}
	every_province = {
		limit = {
			continent = juluia
		}
		add_permanent_province_modifier = {
			name = remote_lands_of_juluia
			duration = -1
		}
	}
	if = {
		limit = {
			NOT = { has_global_flag = setup_done }
		}
		set_global_flag = setup_done

        Pops_Setup = yes
		
		KAF={
			create_subject = {
				subject_type = dominion_vassal
				subject = JAL
			}
			create_subject = {
				subject_type = dominion_vassal
				subject = CLO
			}
		}
		ATH={
			create_subject = {
				subject_type = self_governing_colony
				subject = SIL
			}
		}
		LEL={
			create_subject = {
				subject_type = self_governing_colony
				subject = OAG
			}
		}
		KEA={
			create_subject = {
				subject_type = self_governing_colony
				subject = FYG
			}
		}
		SAL={
			create_subject = {
				subject_type = self_governing_colony
				subject = SRI
			}
		}

		if = {
			limit = {
				NOT = { is_year = 1273 }
			}
			every_country = {
				remove_idea_group = administrative_ideas
				remove_idea_group = philosophical_ideas
				remove_idea_group = engineering_ideas
				remove_idea_group = religious_ideas
				
				remove_idea_group = trade_ideas
				remove_idea_group = colonialism_ideas
				remove_idea_group = maritime_ideas
				remove_idea_group = diplomatic_ideas
				
				remove_idea_group = offensive_ideas
				remove_idea_group = defensive_ideas
				remove_idea_group = leadership_ideas
				remove_idea_group = logistic_ideas
					
				if = {
					limit = {
						has_government_mechanic = monumentality_mechanic
					}
					set_variable = {
						which = monuments
						value = 2
					}
					if = {
						limit = { tag = RAU }
						set_variable = { which = monuments value = 10 }
					}
					if = {
						limit = { tag = KYA }
						set_variable = { which = monuments value = 7 }
					}
					if = {
						limit = { tag = SHE }
						set_variable = { which = monuments value = 8 }
					}
					if = {
						limit = { tag = LEL }
						set_variable = { which = monuments value = 5 }
					}
					if = {
						limit = { tag = CYU }
						set_variable = { which = monuments value = 4 }
					}
					if = {
						limit = { tag = KAF }
						set_variable = { which = monuments value = 4 }
					}
					if = {
						limit = { tag = DRG }
						set_variable = { which = monuments value = 8 }
					}
					if = {
						limit = { tag = GUL }
						set_variable = { which = monuments value = 7 }
					}
					if = {
						limit = { tag = ATH }
						set_variable = { which = monuments value = 5 }
					}
					if = {
						limit = { tag = SOH }
						set_variable = { which = monuments value = 3 }
					}
					if = {
						limit = { tag = IWE }
						set_variable = { which = monuments value = 5 }
					}
				}
			}
			
		}
	}
	initialize_schools_effect = yes
	# if={
		# limit={
			# religion = sharhial_adventists
		# }
		# set_isolationism = 2
	# }
}

# country
on_religion_change = {
	on_religion_change_estate_privileges_effect = yes
	###removes catholic modifiers
	if = {
		limit = {
			has_heir = yes
		}
		set_heir_religion = ROOT
	}
	if = {
		limit = {
			has_regency = no
		}
		set_ruler_religion = ROOT
	}
	if = {
		limit = {
			has_dlc = "Rights of Man"
			has_consort = yes
		}
		set_consort_religion = ROOT
	}
}

# country.
on_secondary_religion_change = {
	# Done from code: add_prestige = -50 (Define: CHANGE_SECONDARY_PRESTIGE_HIT)
}

# country. Spawned when Enforcing Rebel Demands through a Support Rebels-war.
on_enforce_rebel_demands = {
	# ROOT = The winning country
	# FROM = The loosing country
	set_country_flag = helped_rebels_win_war
}

# country
on_colonial_liberation = {
	if = {
		limit = {
			NOT = { has_country_flag = old_world_to_new_world_flag }
		}
		country_event = { id = colonial_nation.90 days = 1 }
	}
}

# country
on_colonial_reintegration = {
	events = {
		colonial_nation.91
	}
}

# country
on_peace_actor = {
}

# country
on_peace_recipient = {
}

# country
# root = winning country, from = loser country
on_war_won = {
	
}

# country
# root = loser country, from = winner country
on_war_lost = {
	if = {
        limit = {
            government = republic
            is_lesser_in_union = yes
		}
		change_government_to_monarchy = yes
    }
	add_country_modifier = {
		name = just_lost_war_timer
		duration = 10
		hidden = yes
	}
}
on_main_war_lost = {
}
on_separate_war_lost = {
}

# country
# root = winning country, from = loser country
on_battle_won_country = {	
}

# country
# root = loser country, from = winner country
on_battle_lost_country = {
	battle_cult_spreading_effect = yes #Scripted effect for fetishist cult mechanics.
	random_events = {
		90 = 0
	}
}

# province
# root = location, from = loser country
on_battle_won_province = {
	if = {
		limit = {
			from = {
				tag = REB
				is_rebel_type = revolutionary_rebels
			}
			owner = {
				any_owned_province = {
					region = root
					has_revolution_in_province = yes
				}
				NOT = { has_disaster = revolution }
				NOT = { has_spawned_rebels = revolutionary_rebels }
			}
		}
		owner = { country_event = { id = center_of_revolution.1600 } }
	}
}

#Unit Scope OnAction for Battle Won
on_battle_won_unit = {
	if = {
		limit = {
			unit_owner = { ai = no } #Scopes to Unit Owner from Unit Scope
			general_with_steam_name = yes #Unit Scope Trigger
		}
		unit_owner = { set_country_flag = general_with_steam_name_won_battle }
	}
}

# #Unit Scope OnAction for Battle Lost
on_battle_lost_unit = {
}

# province
# root = location, from = country doing it
on_added_to_trade_company ={

}

# province
# root = location, from = country doing it
on_removed_from_company ={

}

# province
# root = location, from = country doing it
on_company_formed ={

}

# province
# root = location, from = country doing it
on_company_disolved ={

}

# province
# root = location, from = winner country
on_battle_lost_province = {
	random_events = {
		1000 = 0
	}
}

# country
# root = winning country, from = location
on_siege_won_country = {
	random_events = {
		10 = army_professionalism_events.1 #City Sacked
		100 = 0
	}
	#province effects for the great conquest
	if={
		limit={
			ruler_has_personality = great_conquerer_personality
			from={
				owner = {defensive_war_with = ROOT}
				is_capital = no
			}
		}
		from={
			cede_province = ROOT
			add_territorial_core = ROOT
			if = {
				limit = {
					ROOT = { has_ruler_modifier = crown_of_iron }
					NOT = { has_province_modifier = iac_raided }
				}
				add_permanent_province_modifier = {
					name = iac_raided
					duraiton = 3650
				}
				if = {
					limit = {
						has_province_modifier = iac_severe_calamity
					}
					remove_province_modifier = iac_severe_calamity
					add_permanent_province_modifier = {
						name = iac_mild_calamity
						duraiton = -1
					}
				}
				if = {
					limit = {
						has_province_modifier = iac_moderate_calamity
					}
					remove_province_modifier = iac_moderate_calamity
					add_permanent_province_modifier = {
						name = iac_mild_calamity
						duraiton = -1
					}
				}
				if = {
					limit = {
						base_tax = 1
					}
					add_base_tax = -1
					add_devastation = 10
					ROOT = {
						add_treasury = 25
					}
				}
				if = {
					limit = {
						base_production = 2
					}
					add_base_production = -1
					add_devastation = 10
					if = {
						limit = {
							base_production = 5
						}
						add_base_production = -1
						add_devastation = 10
					}
				}
				if = {
					limit = {
						base_manpower = 3
					}
					add_base_manpower = -1
					add_devastation = 10
					if = {
						limit = {
							base_manpower = 7
						}
						add_base_manpower = -1
						add_devastation = 5
					}
					if = {
						limit = {
							base_manpower = 10
						}
						add_base_manpower = -1
						add_devastation = 5
					}
				}
				if = {
					limit = {
						NOT = {
							OR = {
								base_tax = 1
								base_production = 2
								base_manpower = 3
							}
						}
					}
					change_culture = ROOT
				}
			}
		}
	}
	if={
		limit={
			from={
				owner={ ruler_has_personality = great_conquerer_personality }
				is_capital = no
			}
			is_core_of = ROOT
		}
		from={cede_province = ROOT}
	}
}

# country
# root = losing country, from = location
on_siege_lost_country = {
}

# province
# root = location, from = losing country
on_siege_won_province = {
	if = {
		limit = {
			from = {
				tag = REB
				is_rebel_type = revolutionary_rebels
			}
			owner = {
				any_owned_province = {
					region = root
					has_revolution_in_province = yes
				}
				NOT = { has_disaster = revolution }
				NOT = { has_spawned_rebels = revolutionary_rebels }
			}
		}
		owner = { country_event = { id = center_of_revolution.1600 } }
	}
	
	
}

# province
# root = location, from = winning country
on_siege_lost_province =  {
	
}

# province
# root = location, from = country that abandons colony
# Fired right before the colony is abandoned.
on_abandon_colony = {
}

# province
# root = location, from = country that owns it
# Fired right after the great project is constructed
on_great_project_constructed = {
}
# OBS: Consider that the following on_actions can be called for Personal Union juniors as well.
# country
on_new_monarch = {
	if = {
		limit = {
			has_consort_regency = no
			any_owned_province = {
				has_province_modifier = domain_of_spouses_family
			}
		}
		random_owned_province = {
			limit = { has_province_modifier = domain_of_spouses_family }
			remove_province_modifier = domain_of_spouses_family
		}
	}
	if = {
		limit = {
			has_consort_regency = no
			any_owned_province = {
				has_province_modifier = home_of_consort
			}
		}
		random_owned_province = {
			limit = { has_province_modifier = home_of_consort }
			remove_province_modifier = home_of_consort
		}
	}
	succession_culture_religion_effect = yes
	events = {
	}
	random_events = {
		1300 = 0
		50 = dynastic_events.4
		50 = dynastic_events.5
	}
}

on_new_consort = {
	country_event = { id = consort_events.2 }
	if = {
		limit = { has_ruler_flag = had_10_years_anniversary }
		clr_ruler_flag = had_10_years_anniversary
	}
	if = {
		limit = { has_ruler_flag = had_20_years_anniversary }
		clr_ruler_flag = had_20_years_anniversary
	}
	if = {
		limit = { has_ruler_flag = consort_had_affection_of_ruler }
		clr_ruler_flag = consort_had_affection_of_ruler
	}
	if = {
		limit = { has_country_modifier = sought_after_bachelor }
		remove_country_modifier = sought_after_bachelor
	}
}

# country
on_monarch_death = {
	events = {
		vulkiv_empire_events.1 #if vulikiv dies without the event
	}
}

# country
on_regent = {
	events = {
		tribal_succession.1	# harsh anti-tribals.
	}
}

# country
on_extend_regency = {
}

# country
on_new_term_election = {
	events = {
		700		# Election event
	}
}

# country
on_death_election = {
	if = {
		limit = { has_reform = presidential_despot_reform }
		remove_government_reform = presidential_despot_reform
	}
	if = {
		limit = {
			has_reform = pirate_republic_reform
		}
		set_country_flag = pirate_death_election
	}
	events = {
		701		# Election event
		elections.800	# Lottery election
	}
}

# country
on_death_foreign_slave_ruler = {
	events = {
	}
}

# country
on_replace_governor = {
	events = {
		elections.707
	}
}


# country
on_bankruptcy = {
}

# country (country annexing, root = target)
on_diplomatic_annex = {
	events = {
	}
}

# country
on_heir_death = {
	if = {
		limit = { has_country_flag = heir_dip_education }
		clr_country_flag = heir_dip_education
	}
	if = {
		limit = { has_country_flag = heir_mil_education }
		clr_country_flag = heir_mil_education
	}
	if = {
		limit = { has_country_flag = heir_adm_education }
		clr_country_flag = heir_adm_education
	}
	if = {
		limit = { has_ruler_flag = well_advised_tutored_heir }
		clr_ruler_flag = well_advised_tutored_heir
	}
	if = {
		limit = { has_ruler_flag = heir_went_on_grand_tour }
		clr_ruler_flag = heir_went_on_grand_tour
	}
}

# country
on_queen_death = {

	if = {
		limit = { has_consort_flag = 10_years_anniversary }
		set_ruler_flag = had_10_years_anniversary
	}
	if = {
		limit = { has_consort_flag = 20_years_anniversary }
		set_ruler_flag = had_20_years_anniversary
	}
	if = {
		limit = { has_consort_flag = consort_has_affection_of_ruler }
		set_ruler_flag = consort_had_affection_of_ruler
	}

	if = {
		limit = {
			has_regency = no
			NOT = { has_ruler_flag = widow_widower }
		}
		set_ruler_flag = widow_widower
	}
	if = {
		limit = { has_consort_regency = no }
		random_owned_province = {
			limit = { has_province_modifier = domain_of_spouses_family }
			remove_province_modifier = domain_of_spouses_family
		}
	}
	if = {
		limit = { has_ruler_flag = accepted_help_from_spouses_family }
		clr_ruler_flag = accepted_help_from_spouses_family
	}
	if = {
		limit = { has_ruler_flag = helped_spouses_family }
		clr_ruler_flag = helped_spouses_family
	}
	if = {
		limit = { has_ruler_flag = refused_to_help_spouses_family }
		clr_ruler_flag = refused_to_help_spouses_family
	}
	if = {
		limit = { has_ruler_flag = has_lowborn_consort }
		random_owned_province = {
			limit = { has_province_modifier = home_of_consort }
			remove_province_modifier = home_of_consort
		}
	}
	if = {
		limit = { has_ruler_flag = has_lowborn_consort }
		clr_ruler_flag = has_lowborn_consort
	}
	if = {
		limit = { has_country_modifier = consort_adm_advice }
		remove_country_modifier = consort_adm_advice
	}
	if = {
		limit = { has_country_modifier = consort_dip_advice }
		remove_country_modifier = consort_dip_advice
	}
	if = {
		limit = { has_country_modifier = consort_mil_advice }
		remove_country_modifier = consort_mil_advice
	}
	if = {
		limit = { has_country_modifier = without_spouse_advice }
		remove_country_modifier = without_spouse_advice
	}
	if = {
		limit = { has_ruler_modifier = affectionate_royal_couple }
		remove_country_modifier = affectionate_royal_couple
	}
	if = {
		limit = { has_ruler_modifier = bav_woman_scorned_mod }
		remove_country_modifier = bav_woman_scorned_mod
	}
	if = {
		limit = { has_ruler_modifier = bav_building_wife_church }
		remove_country_modifier = bav_building_wife_church
	}
	clr_ruler_flag = marriage_length
}

# country
on_new_heir = {
	if={
		limit = {heir_culture = rake}
		add_heir_personality = immortal_personality
	}
}

# country
on_weak_heir_claim = {
	events = {
	}
}

# country : no heir in theocracy
on_heir_needed_theocracy = {
	events = {
		theocracy.1
	}
}

# Emperor from same dynasty
on_successive_emperor = {
	emperor = {
		save_global_event_target_as = Emperor
	}
	events = {
	}
}

# Called whenever a new emperor is elected
# FROM = Previous Emperor
# ROOT = New Emperor 
on_emperor_elected = {
	every_elector = {
		if = {
			limit = {
				preferred_emperor = root
			}
			change_variable = {
				which = supported_successive_emperors
				value = 1
			}
		}
		else = {
			set_variable = {
				which = supported_successive_emperors
				value = 0
			}
		}
	}

	emperor = {
		save_global_event_target_as = Emperor
	}
	FROM = {
		if = {
			limit = { has_country_modifier = diet_occupied }
			remove_country_modifier = diet_occupied
			ROOT = {
				add_country_modifier = { name = diet_occupied duration = -1 }
			}
		}
		if = {
			limit = {
				any_country = {
					reverse_has_opinion_modifier = {
						modifier = opinion_imperial_diplomacy
						who = prev
					}
				}
			}
			every_country = {
				limit = {
					reverse_has_opinion_modifier = {
						modifier = opinion_imperial_diplomacy
						who = prev
					}
				}
				reverse_remove_opinion = {
					modifier = opinion_imperial_diplomacy
					who = prev
				}
				ROOT = {
					add_opinion = {
						modifier = opinion_imperial_diplomacy
						who = prev
					}
				}
			}
		}
	}
}

# HRE Prince released by the emperor
on_released_hre_member = {
	events = {
	}
}

# HRE Prince converts to non-Emperor religion
on_hre_member_false_religion = {
	events = {
	}
}

# HRE Prince converts to Emperor religion
on_hre_member_true_religion = {
	events = {
	}
}

# Emperor wins HRE defensive war
on_hre_wins_defensive_war = {
	events = {
	}
}

# HRE member annexed by non-HRE country
on_hre_member_annexed = {
	events = {
	}
}

# HRE member released from non-HRE vassalage
on_hre_released_vassal = {
	events = {
	}
}

# HRE member transferred from non-HRE vassalage to Emperor
on_hre_transfered_vassal = {
	events = {
	}
}

# Emperor coming to the defense of a HRE member
on_hre_defense = {
	events = {
	}
}

# Emperor NOT coming to the defense of a HRE member
on_hre_non_defense = {
	events = {
	}
}

# HRE Member takes a HRE province from an outs100e country in a peace (province scope)
on_hre_province_reconquest = {
	events = {
	}
}

on_lock_hre_religion = {
}

on_change_hre_religion = {
}

on_hre_religion_white_peace = {
}

# When a non-native changes government type
on_government_change = {
	clr_country_flag = pirate_mutineer_council
	clr_country_flag = caretaker_revolutionary_government
	if = {
		limit = {
			NOT = { government = monarchy }
			any_owned_province = {
				has_province_modifier = domain_of_spouses_family
			}
		}
		random_owned_province = {
			limit = { has_province_modifier = domain_of_spouses_family }
			remove_province_modifier = domain_of_spouses_family
		}
	}
	if = {
		limit = {
			NOT = { government = monarchy }
			any_owned_province = {
				has_province_modifier = home_of_consort
			}
		}
		random_owned_province = {
			limit = { has_province_modifier = home_of_consort }
			remove_province_modifier = home_of_consort
		}
	}
	if = {
		limit = { has_country_modifier = the_reign_of_terror }
		remove_country_modifier = the_reign_of_terror
	}
	if = {
		limit = {
			has_global_flag = great_peasants_war_flag
			is_part_of_hre = yes
			has_reform = peasants_republic
		}
		1 = {
			change_variable = {
				which = GPW_counting_variable
				value = -3
			}
		}
	}
}

# When a native changes government after filling all their advancement groups.
on_native_change_government = {
}

# Nation is integrated after being in union
on_integrate = {
	events = {
	}
}

# Nation annexed.
# FROM is the nation being annexed
on_annexed = {
	if = {
		limit = {
			has_government_mechanic = monumentality_mechanic
			FROM = {
				has_government_mechanic = monumentality_mechanic
			}
		}
		change_variable = {
			which = monuments
			which = FROM
		}
	}

	on_annexed_estate_privileges_effect = yes
}

# When the chinese empire gets dismantled (e.g. when the emperor is annexed)
# FROM = Emperor, ROOT = Current Nation
on_chinese_empire_dismantled = {
	clear_global_event_target = EmperorOfChina
	events = {
	}
}

# When a nation gains the Mandate of Heaven (becomes the Emperor of China)
# FROM = Old Emperor, ROOT = New Emperor
on_mandate_of_heaven_gained = {
}

# When a nation loses the Mandate of Heaven
# FROM = New Emperor, ROOT = Old Emperor
on_mandate_of_heaven_lost = {
}

on_embrace_revolution = {
	if = {	
		limit = {
			any_subject_country = {
				has_country_modifier = colony_inspired_by_revolution
			}
		}
		every_subject_country = {
			remove_country_modifier = colony_inspired_by_revolution
		}
	}
	if = {
		limit = { NOT = { government = republic } }
		change_government_to_republic = yes
	}
	if = {
		limit = { 
			revolution_target_exists = no
			is_great_power = yes
		}
		set_revolution_target = ROOT
		add_government_reform = revolutionary_republic_reform
		if = {
			limit = {
				any_country = {
					has_country_flag = last_revolutionary_country
				}
			}
			every_country = {
				limit = {
					has_country_flag = last_revolutionary_country
				}
				clr_country_flag = last_revolutionary_country
			}
		}
	}
	else = {
		add_government_reform = junior_revolutionary_republic_reform
	}
	if = {
		limit = { has_reform = parliamentary_reform }
		remove_government_reform = parliamentary_reform
	}
	kill_ruler = yes
	set_country_flag = revolutionary_republic_flag
	set_country_flag = had_revolution
}

# THIS = Revolutionary country being beaten, FROM = Country enforcing the peace treaty
on_dismantle_revolution = {
	events = {
	}
	if = {
		limit = {
			any_country = {
				has_country_flag = last_revolutionary_country
			}
		}
		every_country = {
			limit = {
				has_country_flag = last_revolutionary_country
			}
			clr_country_flag = last_revolutionary_country
		}
	}
	set_country_flag = last_revolutionary_country
}

# province
on_adm_development = {
	owner = {
		add_treasury = -100
	}
	update_pops = yes
}

# province
on_dip_development = {
	if = {
		limit = {
			has_province_modifier = offshored_jobs
		}
		remove_province_modifier = offshored_jobs
	}
	owner = {
		add_treasury = -50
	}
	update_pops = yes
}

# province
on_mil_development = {
	owner = {
		add_treasury = -25
	}
	update_pops = yes
}

on_overextension_pulse = {
	random_events = {
		100 = overextension.1
		100 = overextension.2
		100 = overextension.3
		100 = overextension.4
		100 = overextension.5
		100 = overextension.6
		100 = overextension.7
		100 = overextension.8
		100 = overextension.9
		100 = overextension.10
	}
}


on_colonial_pulse = {
	random_events = {
		100 = colonial.1
		100 = colonial.2
		100 = colonial.3
		100 = colonial.4
		100 = colonial.5
		100 = colonial.9
		100 = colonial.10
		100 = colonial.11
		100 = colonial.16
		100 = colonial.17

		15000 = 0
	}
}

on_siberian_pulse = {
}


# country random events
	# Random Event Ideas:
	#	A God Praises Us
	#	Heathen Smited
	#	Dedication Questioned
	#	Temple Construction
	#	The Gods Side With Us!
	#	The Gods Side Against Us!
	#	
	#	Murder Spree
	#	Urban Diseases
	#	Building on Good Soil
	#
	# Trade:
	#	Bronze Trade Threatened
	#	Highway Robbers
	#	Price Differences
	#	Merchant Wanted!
	#	Slave Markets
	#	
	# Trade Good Events
	#	Bronze Profits (Has Copper or Tin. Tin is least, Copper is more, Both is most)
	#	Tin Conspiracies
	#	Ecriamin Craze
	#	Made of Marble
	#
	# Sailor events
	#	Enslaved Oarsmen
	#	Ship Disappeared!
	#	
	# Corruption
	#	Money Makes Right
	#	Corrupt Official Exposed
	#
	# Institution Events
	#	Foreign Secrets Exposed (Bronze Working)
	#	Field Experiments (Crop Rotation)
	#	Crop Failure (Crop Rotation)
	#	Commoner Forges (Iron Working)
	#	Banishing Iron Smiths (Iron Working)

on_monthly_pulse = {
}
on_yearly_pulse = {
}
on_yearly_pulse_2 = {
}
on_yearly_pulse_3 = {
}
on_yearly_pulse_4 = {
}
on_yearly_pulse_5 = {
}
on_bi_yearly_pulse = {
	random_events = {

		100 = random_event.100 # A God Praises Us
		100 = random_event.101 # Heathen Smited
		100 = random_event.102 # Dedication Questioned
		100 = random_event.103 # Temple Construction
		400 = random_event.104 # The Gods Side With Us!

		100 = random_event.26

		# Old Centralisation/Decentralisation
		100 = 806 # Country Destabilized

		# Mercantilism
		100 = 6326 # Our Mercantilist Policies Strengthen trade
		100 = 6327 # Merchant defects
		100 = 6328 # Trade Expansion
		100 = 6329 # Merchants worried about lack of protection

		# Trade Specific
		100 = trade.1 # Respect our flag
		100 = trade.2 # This cannot stand
		100 = trade.3 # Expulsion of Merchants
		100 = trade.4 # Trade Crisis
		100 = trade.5 # Merchant Bankrupt!
		100 = trade.6 # Merchant Shipwrecked!
		100 = trade.7 # Merchants suffering
		100 = trade.8 # No one wants to work
		100 = trade.9 # Taking advantage of our trade
		100 = trade.10 # Lack of protection
		100 = trade.11 # Merchants leaving
		100 = trade.12 # Promising Trader

		# Tradegoods events
		100 = 6418 # Excellent Year
		100 = 6419 # Excellent Vintage
		100 = 6420 # Poor Vintage
		100 = 6421 # Quality wool
		100 = 6422 # Poor Uniforms
		100 = 6423 # Hardy Seamen
		100 = 6424 # Natives not assisting
		100 = 6425 # Salt Crisis
		100 = 6426 # Excellent supplies
		100 = 6427 # Poor Quality Copper
		100 = 6428 # SILVER RUSH!
		100 = 6429 # Iron ore quality problems
		100 = 6434 # Harvest failure

		# Refoms, when having parliaments.
		100 = reforms.1 # Financial reform
		100 = reforms.2 # Social reform
		100 = reforms.3 # Military development
		100 = reforms.4 # Architectureal development

		# Sailor events
		100 = sailor_event.1 # The Vast and Endless Sea
		100 = sailor_event.2 # Harsh Life on the Ocean
		100 = sailor_event.3 # Sailors Rally to Aid Army
		100 = sailor_event.4 # Soldiers Rally to Aid Navy
		100 = sailor_event.5 # A Path to the Sea

		# Corruption Events
		100 = corruption_event.16 # Mercenaris Extorting Locals
		100 = corruption_event.17 # Incompetent Administrator
		100 = corruption_event.18 # Overextension Exploited
		100 = corruption_event.19 # $TRADER$ has Corrupt Connections
		100 = corruption_event.20 # Bribes Growing More Accepted

		# Trade League Events
		100 = trade_league.1 # King Of The Hill
		100 = trade_league.2 # The Rich Get Richer
		100 = trade_league.3 # A Secret To Fast Travels
		100 = trade_league.4 # Pirates Smell Booty
		100 = trade_league.7 # Ripe Lumber
		100 = trade_league.8 # Let's Make War Our Business
		100 = trade_league.9 # Envy Leads To Anger
		100 = trade_league.10 # Intraleague Friction
		100 = trade_league.11 # Papers, Please!
		100 = trade_league.12 # No More Papers, Please!
		100 = trade_league.13 # Naval Envy

		# Institution Events
		#Global Trade Spread Events:
		150 = institution_events.50 # Grand Tour
		150 = institution_events.51 # Grand Tour ROTW to Europe version
		150 = institution_events.52 # Factories Overseas
		#Enlightenment Spread Events:
		150 = institution_events.70 # Grand Tour
		150 = institution_events.71 # Grand Tour ROTW to Europe version
		150 = institution_events.72 # Apostles of the Enlightenment


		#Personality Events
		50 = personality_events.10 #Just Dilema
		50 = personality_events.11 #A righteous King
		50 = personality_events.12 #A Righteous Republican Ruler
		50 = personality_events.13
		50 = personality_events.14
		50 = personality_events.15
		50 = personality_events.16
		50 = personality_events.17
		50 = personality_events.18
		50 = personality_events.19
		50 = personality_events.20
		50 = personality_events.21
		50 = personality_events.22
		50 = personality_events.23
		50 = personality_events.24
		50 = personality_events.25
		50 = personality_events.26
		50 = personality_events.27
		50 = personality_events.28
		50 = personality_events.29
		50 = personality_events.30
		50 = personality_events.31
		50 = personality_events.32
		50 = personality_events.33
		50 = personality_events.34
		50 = personality_events.35
		50 = personality_events.36
		50 = personality_events.37
		50 = personality_events.38
		50 = personality_events.39
		50 = personality_events.40
		50 = personality_events.41
		50 = personality_events.42
		50 = personality_events.43
		50 = personality_events.44
		50 = personality_events.45
		50 = personality_events.46
		50 = personality_events.47
		50 = personality_events.48
		50 = personality_events.49
		50 = personality_events.50
		50 = personality_events.51
		50 = personality_events.52
		50 = personality_events.53
		50 = personality_events.54
		50 = personality_events.55
		50 = personality_events.56
		50 = personality_events.57
		50 = personality_events.58

		#Industrial Revolution

		200 = industrialization_events.7
		200 = industrialization_events.8
		200 = industrialization_events.9
		200 = industrialization_events.10
		200 = industrialization_events.11
		200 = industrialization_events.12
		200 = industrialization_events.13
		200 = industrialization_events.14
		200 = industrialization_events.15
		200 = industrialization_events.16
		200 = industrialization_events.17
		200 = industrialization_events.18
		200 = industrialization_events.19
		200 = industrialization_events.20
		200 = industrialization_events.21
		200 = industrialization_events.22

		2000 = 0 #was 1250
	}
}

on_bi_yearly_pulse_2 = {
	random_events = {
		100 = corruption_event.1 # The Honest Merchants of [Root.GetName]
		100 = corruption_event.2 # Trust Your Neighbor
		100 = corruption_event.3 # Rigorous Researchers
		100 = corruption_event.4 # An Honorable People
		100 = corruption_event.5 # Incorruptible
		100 = corruption_event.6 # Corrupt Taxmen
		100 = corruption_event.7 # Corrupt Advisor
		100 = corruption_event.8 # Wily Smugglers
		100 = corruption_event.9 # [Root.Culture.GetName] Community Distrusts Us
		100 = corruption_event.10 # Corrupt Ambassador
		200 = corruption_event.11 # [Root.GetTradeGoodsName] "Disappearing"
		200 = corruption_event.12 # Corrupt Officers
		200 = corruption_event.13 # Corrupt Admirals
		200 = corruption_event.14 # Merchants Distrust Us
		200 = corruption_event.15 # Governmental Functions Breaking Down
		
		

		4000 = 0
	}
}

on_bi_yearly_pulse_3 = {

	#Fire estate agenda if you have that privilege
	# NOTE DOING THIS THROUGH RANDOM EVENT NOW WITH estate_privileges_and_agendas_events.4 INSTEAD!
	#on_bi_yearly_pulse_estate_privileges_effect = yes

	events = {
		
	}
	random_events = {
		100 = new_court_flavour_events.21 #religious resignation
		100 = new_court_flavour_events.25 #blood is thicker than water
		200 = 0
		
		#rauthyr estates
		200 = rauthyr_estate_events.1 #Disloyal
		200 = rauthyr_estate_events.2 #Disloyal
		200 = rauthyr_estate_events.3 #Disloyal
		200 = rauthyr_estate_events.4 #Disloyal
		200 = rauthyr_estate_events.5 #Disloyal
		200 = rauthyr_estate_events.6 #Disloyal
	}
}

on_bi_yearly_pulse_4 = {
	random_events = { #all these were shifted from on_bi_yearly_pulse_1
		#randomevents
		100 = 730 # Land Technology Research Useless
		100 = 731 # Naval Research Wrong!
		100 = 732 # New Trade Research is Heretical
		100 = 733 # Production Research Flawed
		100 = 734 # There should be a Stable Government
		100 = 735 # A Generation of Cowards
		100 = 737 # Local fortification expert discovered
		100 = 738 # Naive Relative
		100 = 739 # Saint Proclaimed
		100 = 740 # Smugglers running rampant
		100 = 741 # Printing Press gives Benefits
		100 = 742 # Extraordinary Recruiting Policies

		100 = 850 # Glory for $DYNASTY$
		100 = 851 # The House of $DYNASTY$ is shaken
		100 = 852 # Brilliant Government
		100 = 853 # Great Economic Policy
		100 = 854 # A Golden Era for Culture!
		100 = 855 # Warriors do not read books
		100 = 857 # Competent Diplomacy!
		100 = 858 # Incompetent Diplomacy!
		100 = 859 # War-Weary Population
		100 = 860 # There is still hope
		100 = 861 # Visit from some shady people
		100 = 862 # The New World Beckons!
		100 = 863 # Merchants Spread Thin
		100 = 864 # Relations Improved
		100 = 866 # Improvements in Land Technology
		100 = 867 # Improvements in Naval Technology
		100 = 868 # Imporvements in Trade Technology
		100 = 869 # Improvements in Government Technology
		100 = 870 # Imporvements in Production Technology
		100 = 871 # Sale of Titles
		100 = 872 # A Travelling Minstrel
		100 = 873 # A Bountiful Harvest
		100 = 877 # The Sweating Sickness spreads through $COUNTRY$
		100 = 878 # Disagreeing Advisor
		100 = 879 # Privateers bring Profits
		100 = 880 # Privateer Captured
		100 = 881 # Merchant arranges an expedition
		100 = 882 # Expanding influence
		100 = 884 # Local Noble's Power Grows
		100 = 885 # Colonial Discovery!
		100 = 836 # Naval thought suffering
		100 = 837 # Naval Officers are retiring
		100 = 838 # An example to us all

		100 = 9472 # Benign Neglect
		100 = 3097 # Rebel Uprising!
		100 = 5005 # Revolt!
		100 = 5026 # Plague!
		100 = 5037 # Agricultural Revolution
		100 = 5063 # Noble Families Feud
		100 = 6014 # Good Harvest

		# Innovativeness
		100 = innovativeness_events.1 # Freedom of the Press
		100 = innovativeness_events.2 # The Inventions of $Advisor$
		50 = innovativeness_events.3 # Anatomical Theater
		100 = innovativeness_events.4 # Foreign Inventor
		100 = innovativeness_events.5 # Education for the Poor?
		100 = innovativeness_events.6 # Royal Patronage
		100 = innovativeness_events.7 # University of $Province$
		100 = innovativeness_events.8 # Dissenting Academies
		100 = innovativeness_events.9 # Treatise on Natural Philosophy
		100 = innovativeness_events.10 # Unpopular Mathemtician
		100 = innovativeness_events.13 # Scientific Instruments
		100 = innovativeness_events.14 # Physiocrats
		100 = innovativeness_events.15 # Cabinet of Curiosities

		# Trade Company Investments
		100 = investment_events.2 # Disagreement over Company Purcahses
		100 = investment_events.4 # Corrupt Factor
		100 = investment_events.5 # Company Rule
		100 = investment_events.6 # Missionaries Arrive in
		100 = investment_events.7 # Coinage
		100 = investment_events.8 # Flourishing $Country$ Settlement
		100 = investment_events.9 # Rogue Traders Ignoring Company Monopoly
		100 = investment_events.10 # Company Interference in Local Conflicts

		# Minority Expulsion Events
		100 = expel_minority_events.1 # A Haven for the $Culture$
		100 = expel_minority_events.2 # $Culture$ Solidarity
		100 = expel_minority_events.3 # The Last $Culture$ in $Country$
		100 = expel_minority_events.4 # $Culture$ Refugees Flee
		100 = expel_minority_events.5 # Administrative Officials Expelled
		
		# Mercenaries
		100 = mercs.1 # Discontent Among the $Merc$
		100 = mercs.2 # The Enemy of Their Enemy
		100 = mercs.3 # Payment in Plunder
		100 = mercs.4 # Veterans Flock to the $Merc$
		100 = mercs.7 # High Demand for the $Merc$
		100 = mercs.8 # $Leader$ of the $Merc$
		100 = mercs.10 # Mercenary Fervor
		100 = mercs.11 # Delayed Payments

		# Espionage
		100 = espionage_events.1 # Half the Loyalty, Double the Agent 
		100 = espionage_events.8 # $Advisor$ Suspects Neighbors
		80 = espionage_events.9 # Secrets in our Alliance

		# Professionalism
		100 = army_professionalism_events.4 # Delayed Salaries
		100 = army_professionalism_events.5 # The many jobs of a Soldier
		75 = army_professionalism_events.6 # Foreign Talent
		100 = army_professionalism_events.8 # Wargames
		100 = army_professionalism_events.9 # Private Contractors
		100 = army_professionalism_events.10 # An Army Career
		100 = army_professionalism_events.11 # Esprit de Corps
		75 = army_professionalism_events.12 # Lack of Officers
		100 = army_professionalism_events.13 # Local Militias
		75 = army_professionalism_events.16 # Treason against $Country$

		# Agenda from the Estates
		1000 = estate_privileges_and_agendas_events.4

		2000 = 0
	}
}

on_bi_yearly_pulse_5 = {

}# country random events
on_thri_yearly_pulse = {
	random_events = {
		# Republics
		100 = republics.4
		100 = republics.5
		100 = republics.6
		100 = republics.7
		100 = republics.8
		100 = republics.9
		100 = republics.10
		100 = republics.11
		100 = republics.12
		100 = republics.13
		100 = republics.14
		100 = republics.15
		100 = republics.16
		100 = republics.17
		100 = republics.18
		100 = republics.19
		100 = republics.20
		100 = republics.21
		100 = republics.22
		100 = republics.23
		100 = republics.24
		100 = republics.25
		100 = republics.26
		100 = republics.27
		100 = republics.28
		100 = republics.29
		100 = republics.30
		100 = republics.31
		100 = republics.32
		100 = republics.33
		100 = republics.34
		100 = republics.35
		100 = republics.36
		100 = republics.37
		100 = republics.38
		100 = republics.39
		100 = republics.40
		100 = republics.41
		100 = republics.42
		100 = republics.43

		1000 = 0
	}
}

on_thri_yearly_pulse_2 = {
}

on_thri_yearly_pulse_3 = {
	
}

on_thri_yearly_pulse_4 = {

}

on_four_year_pulse = {
	random_events = {
		# Colonial Nations
		100 = colonial_nation.1
		100 = colonial_nation.4
		100 = colonial_nation.10
		100 = colonial_nation.12
		100 = colonial_nation.14
		100 = colonial_nation.77
		100 = colonial_nation.100
		100 = colonial_nation.102
		100 = colonial_nation.104
		100 = colonial_nation.106
		100 = colonial_nation.108
		100 = colonial_nation.110
		100 = colonial_nation.112
		100 = colonial_nation.114
		100 = colonial_nation.116
		100 = colonial_nation.118
		100 = colonial_nation.126
		100 = colonial_nation.132
		10 = colonial_nation.140
		10 = colonial_nation.142
		10 = colonial_nation.144
		10 = colonial_nation.146
		10 = colonial_nation.148
		10 = colonial_nation.150
		10 = colonial_nation.152
		10 = colonial_nation.154
		10 = colonial_nation.156
		10 = colonial_nation.158
		10 = colonial_nation.166
		10 = colonial_nation.172

		# Republic Factions
		100 = republic_factions.2
		100 = republic_factions.5
		100 = republic_factions.7
		100 = republic_factions.9
		100 = republic_factions.10
		100 = republic_factions.12
		100 = republic_factions.13
		100 = republic_factions.14
		100 = republic_factions.15
		100 = republic_factions.16
		100 = republic_factions.17
		100 = republic_factions.18
		100 = republic_factions.19
		100 = republic_factions.20
		100 = republic_factions.22
		100 = republic_factions.23
		100 = republic_factions.24

		# Revolutionary Republic Factions

		100 = revolutionary_republic_factions.0
		100 = revolutionary_republic_factions.1
		100 = revolutionary_republic_factions.2
		100 = revolutionary_republic_factions.3
		100 = revolutionary_republic_factions.4
		100 = revolutionary_republic_factions.5
		100 = revolutionary_republic_factions.6
		100 = revolutionary_republic_factions.7
		100 = revolutionary_republic_factions.8
		100 = revolutionary_republic_factions.9
		
		# Revolutionary Empires
		100 = napoleon.1
		100 = napoleon.2

		# Republican Dictatorship
		100 = republican_dictatorship.1
		100 = republican_dictatorship.2
		100 = republican_dictatorship.3
		100 = republican_dictatorship.4
		100 = republican_dictatorship.5
		100 = republican_dictatorship.6
		100 = republican_dictatorship.7
		100 = republican_dictatorship.8

		# Elective Monarchy
		150 = elective_monarchy.1
		150 = elective_monarchy.2
		25 = elective_monarchy.3
		25 = elective_monarchy.4
		150 = elective_monarchy.6
		150 = elective_monarchy.8
		150 = elective_monarchy.9
		150 = elective_monarchy.10
		150 = elective_monarchy.11
		150 = elective_monarchy.12
		150 = elective_monarchy.14
		150 = elective_monarchy.17
		25 = elective_monarchy.18

		#Tribal Federations
		50 = tribal_federation_events.1
		50 = tribal_federation_events.2
		50 = tribal_federation_events.3
		50 = tribal_federation_events.5
		50 = tribal_federation_events.6
		50 = tribal_federation_events.7
		50 = tribal_federation_events.8
		50 = tribal_federation_events.10

		1000 = 0
	}
}

on_four_year_pulse_2 = {
}

on_four_year_pulse_3 = {
	random_events = {
		# randomevents.txt
		100 = 3051 # Cultural Unrest
		100 = 5008 # Gift to the State
		100 = 5014 # Temporary Insanity of Monarch
		100 = 5015 # Excellent Minister
		100 = 5017 # Scandal at the Court
		100 = 5018 # Wave of Obscurantism
		100 = 5019 # Exceptional Year
		100 = 5020 # Exceptional Year
		100 = 5021 # Exceptional Year
		100 = 5022 # Rush of Colonists
		100 = 5023 # Rush of Merchants
		100 = 5024 # Diplomatic Move
		100 = 5025 # Excellent Diplomacy
		100 = 5027 # Reformation of the Army
		100 = 5032 # Reformation of the Navy
		100 = 5040 # Good government policies
		100 = 5045 # Poor government policies
		100 = 5051 # Unhappiness among the Artisans
		100 = 5052 # Unhappiness among the Peasantry
		100 = 5053 # Unhappiness among the Merchants
		10 = 5054 # Political Crisis
		100 = 5055 # Corruption
		100 = 5056 # Diplomatic Insult
		100 = 5058 # Nobles
		100 = 5059 # Trading Company Disaster
		100 = 5060 # Meteor sighted
		100 = 5064 # Nobles ally with foreign power
		100 = 5065 # Assassination
		100 = 5068 # Sale of offices
		100 = 5070 # Monopoly company formed
		100 = 5071 # Nobles demand increased pensions
		100 = 5072 # Grant export licences
		100 = 5074 # Establish Cantonments
		100 = 5075 # Nobles demand old rights
		100 = 5076 # Cities demand old rights
		100 = 5077 # Non-enforcement of ordinances
		100 = 5082 # Bourgeoisie request privileges
		100 = 5084 # Foreign drill instructor available
		100 = 5085 # Build a great palace
		100 = 5088 # Merchants harrased
		100 = 5091 # Support for dissidents abroad
		100 = 5092 # Foreign trade competition rises
		100 = 5093 # Parliament demands removal of advisor
		100 = 5094 # Heretic advisor
		100 = 5095 # Statesman gains power
		10 = 5096 # Influenced elections
		100 = 5097 # Peasants getting uppity
		100 = 5098 # Corruption in the church
		100 = 5099 # Merchant fractures
		100 = 6000 # Naval traditions scorned
		100 = 6001 # Land traditions scorned
		100 = 6003 # Representative national institutions
		100 = 6012 # Exceptional Court Painter
		100 = 6015 # Festivities
		100 = 710 # Complaints about Bailiff
		100 = 712 # Dramatic Currency Revaluation
		100 = 713 # Decadence
		100 = 714 # Military Divided!
		100 = 715 # $MONARCH$ embarrasses the court
		100 = 716 # Nobles Demand Recompensation
		100 = 717 # Monetary Reforms
		100 = 718 # The Fortunes of War
		100 = 719 # Strong Military Leadership
		100 = 720 # The Naval Tradition
		100 = 722 # Sickness of $MONARCHTITLE$
		100 = 723 # Regional Nobles challenge $COUNTRY$
		100 = 725 # Growth of Cities attracts Serfs
		100 = 726 # $MONARCHTITLE$'s reputation tarnished!
		100 = 727 # Fight the Good Fight!
		100 = 728 # Claims on Our Rivals!
		100 = 729 # Improve the Capital

		100 = random_event.1 # Support for revolution overseas
		300 = elteria_event.23 #random_event.2 # Elterian Elves form own group
		100 = random_event.4 # A new religion spreads?
		100 = random_event.5 # Our ancestors are watching
		100 = random_event.7 # A new flagship!
		150 = random_event.9 # We have a man inside!
		100 = random_event.10 # A greedy corsair
		100 = random_event.16 # Gaps in the Blockade
	}
}

on_four_year_pulse_4 = {
	random_events = {
		#Industrialists
		200 = industrialists_estate_events.1 #Rapid Industrialization
		300 = industrialists_estate_events.2 #Recession
		200 = industrialists_estate_events.3 #Boom
		100 = industrialists_estate_events.4 #Bust (Great Depression)
		100 = industrialists_estate_events.9 #Philanthropy
		300 = industrialists_estate_events.10 #Demand Less Regulation
		100 = industrialists_estate_events.11 #Offshoring
		100 = industrialists_estate_events.12 #Child Labor
		200 = industrialists_estate_events.13 #Worker Strike
		100 = industrialists_estate_events.14 #New Innovations
		100 = industrialists_estate_events.15 #Rags to Riches
		50 = industrialists_estate_events.16 #Growth of the Middle Class
		100 = industrialists_estate_events.17 #Boomtown
		400 = industrialists_estate_events.18 #Industrialists Demand Control!
		200 = industrialists_estate_events.19 #Bribery Scandal

		
		0 = 0
	}
}

#Middle Idea Group Events
on_five_year_pulse = {
	random_events = {

		# Innovativeness Events

		100 = innovativeness_events.1

		# Aristocracy 		13  (8g 5b)
		100 = ideagroups.100
		100 = ideagroups.101
		100 = ideagroups.102
		100 = ideagroups.103
		100 = ideagroups.104
		100 = ideagroups.105
		100 = ideagroups.106
		100 = ideagroups.107
		100 = ideagroups.108
		100 = ideagroups.109
		100 = ideagroups.110
		100 = ideagroups.111
		100 = ideagroups.112


		# Plutocracy 		19 (12g 7b)
		100 = ideagroups.200
		100 = ideagroups.201
		100 = ideagroups.202
		100 = ideagroups.203
		100 = ideagroups.204
		100 = ideagroups.205
		100 = ideagroups.206
		100 = ideagroups.207
		100 = ideagroups.208
		100 = ideagroups.209
		100 = ideagroups.210
		100 = ideagroups.211
		100 = ideagroups.212
		100 = ideagroups.213
		100 = ideagroups.214
		100 = ideagroups.215
		100 = ideagroups.216
		100 = ideagroups.217
		100 = ideagroups.218

		# Innovativenes		11 (7g 4b)
		100 = ideagroups.300
		100 = ideagroups.301
		100 = ideagroups.302
		100 = ideagroups.303
		100 = ideagroups.304
		100 = ideagroups.305
		100 = ideagroups.306
		100 = ideagroups.307
		100 = ideagroups.308
		100 = ideagroups.309
		100 = ideagroups.310

		# Religious		18 (11g 7b)
		100 = ideagroups.400
		100 = ideagroups.401
		100 = ideagroups.402
		100 = ideagroups.403
		100 = ideagroups.404
		100 = ideagroups.405
		100 = ideagroups.406
		100 = ideagroups.407
		100 = ideagroups.408
		100 = ideagroups.409
		100 = ideagroups.410
		100 = ideagroups.411
		100 = ideagroups.412
		100 = ideagroups.413
		100 = ideagroups.414
		100 = ideagroups.415
		100 = ideagroups.416
		100 = ideagroups.417


		# Spy			9 (6g 3b)
		100 = ideagroups.500
		100 = ideagroups.501
		100 = ideagroups.502
		100 = ideagroups.503
		100 = ideagroups.504
		100 = ideagroups.505
		100 = ideagroups.506
		100 = ideagroups.507
		100 = ideagroups.508


		# Diplomatic		9 (6g 3b)
		100 = ideagroups.600
		100 = ideagroups.601
		100 = ideagroups.602
		100 = ideagroups.603
		100 = ideagroups.604
		100 = ideagroups.605
		100 = ideagroups.606
		100 = ideagroups.607
		100 = ideagroups.608


		# Offensive 		14 (9g 5b)
		100 = ideagroups.700
		100 = ideagroups.701
		100 = ideagroups.702
		100 = ideagroups.703
		100 = ideagroups.704
		100 = ideagroups.705
		100 = ideagroups.706
		100 = ideagroups.707
		100 = ideagroups.708
		100 = ideagroups.709
		100 = ideagroups.710
		100 = ideagroups.711
		100 = ideagroups.712
		100 = ideagroups.713


		# Defensive		11 (5g 6b)
		100 = ideagroups.800
		100 = ideagroups.801
		100 = ideagroups.802
		100 = ideagroups.803
		100 = ideagroups.804
		100 = ideagroups.805
		100 = ideagroups.806
		100 = ideagroups.807
		100 = ideagroups.808
		100 = ideagroups.809
		100 = ideagroups.810
		100 = ideagroups.811
		100 = ideagroups.812
		100 = ideagroups.813
		100 = ideagroups.814
		100 = ideagroups.815


		# Trade			6 (7g 4b)
		100 = ideagroups.900
		100 = ideagroups.901
		100 = ideagroups.902
		100 = ideagroups.903
		100 = ideagroups.904
		100 = ideagroups.905
		100 = ideagroups.906
		100 = ideagroups.907
		100 = ideagroups.908
		100 = ideagroups.909
		100 = ideagroups.910

		# Maritime			22 (14g 8b)
		100 = ideagroups.1000
		100 = ideagroups.1001
		100 = ideagroups.1002
		100 = ideagroups.1003
		100 = ideagroups.1004
		100 = ideagroups.1005
		100 = ideagroups.1006
		100 = ideagroups.1007
		100 = ideagroups.1008
		100 = ideagroups.1009
		100 = ideagroups.1010
		100 = ideagroups.1011
		100 = ideagroups.1012
		100 = ideagroups.1013
		100 = ideagroups.1014
		100 = ideagroups.1015
		100 = ideagroups.1016
		100 = ideagroups.1017
		100 = ideagroups.1018
		100 = ideagroups.1019
		100 = ideagroups.1020
		100 = ideagroups.1021

		# Economic		11 (7g 4b)
		100 = ideagroups.1100
		100 = ideagroups.1101
		100 = ideagroups.1102
		100 = ideagroups.1103
		100 = ideagroups.1104
		100 = ideagroups.1105
		100 = ideagroups.1106
		100 = ideagroups.1107
		100 = ideagroups.1108
		100 = ideagroups.1109
		100 = ideagroups.1110

		# Exploration		11 (7g 4b)
		100 = ideagroups.1200
		100 = ideagroups.1201
		100 = ideagroups.1202
		100 = ideagroups.1203
		100 = ideagroups.1204
		100 = ideagroups.1205
		100 = ideagroups.1206
		100 = ideagroups.1207
		100 = ideagroups.1208
		100 = ideagroups.1209
		100 = ideagroups.1210

		# Quality		11 (7g 4b)
		100 = ideagroups.1300
		100 = ideagroups.1301
		100 = ideagroups.1302
		100 = ideagroups.1303
		100 = ideagroups.1304
		100 = ideagroups.1305
		100 = ideagroups.1306
		100 = ideagroups.1307
		100 = ideagroups.1308
		100 = ideagroups.1309
		100 = ideagroups.1310

		# Quantity		11 (7g 4b)
		100 = ideagroups.1400
		100 = ideagroups.1401
		100 = ideagroups.1402
		100 = ideagroups.1403
		100 = ideagroups.1404
		100 = ideagroups.1405
		100 = ideagroups.1406
		100 = ideagroups.1407
		100 = ideagroups.1408
		100 = ideagroups.1409
		100 = ideagroups.1410


		# Expansion		11 (7g 4b)
		100 = ideagroups.1500
		100 = ideagroups.1501
		100 = ideagroups.1502
		100 = ideagroups.1503
		100 = ideagroups.1504
		100 = ideagroups.1505
		100 = ideagroups.1506
		100 = ideagroups.1507
		100 = ideagroups.1508
		100 = ideagroups.1509
		100 = ideagroups.1510

		# Administrative	3 (1g 2b)
		100 = ideagroups.1600
		100 = ideagroups.1601
		100 = ideagroups.1602
		100 = ideagroups.1603
		100 = ideagroups.1604
		100 = ideagroups.1605
		100 = ideagroups.1606
		100 = ideagroups.1607
		100 = ideagroups.1608
		100 = ideagroups.1609
		100 = ideagroups.1610

		# Naval		11 (7g 4b)
		100 = ideagroups.1700
		100 = ideagroups.1701
		100 = ideagroups.1702
		100 = ideagroups.1703
		100 = ideagroups.1704
		100 = ideagroups.1705
		100 = ideagroups.1706
		100 = ideagroups.1707
		100 = ideagroups.1708
		100 = ideagroups.1709
		100 = ideagroups.1710

		# Influence		11 (7g 4b)
		100 = ideagroups.1800
		100 = ideagroups.1801
		100 = ideagroups.1802
		100 = ideagroups.1803
		100 = ideagroups.1804
		100 = ideagroups.1805
		100 = ideagroups.1806
		100 = ideagroups.1807
		100 = ideagroups.1808
		100 = ideagroups.1809
		100 = ideagroups.1810

		# Humanist		11 (7g 4b)
		100 = ideagroups.1900
		100 = ideagroups.1901
		100 = ideagroups.1902
		100 = ideagroups.1903
		100 = ideagroups.1904
		100 = ideagroups.1905
		100 = ideagroups.1906
		100 = ideagroups.1907
		100 = ideagroups.1908
		100 = ideagroups.1909
		100 = ideagroups.1910

		# Philosophical
		100 = ideagroups.2000
		100 = ideagroups.2001
		100 = ideagroups.2002
		100 = ideagroups.2003
		100 = ideagroups.2004

		# Engineering
		100 = ideagroups.2100
		100 = ideagroups.2101

		1000 = 0
	}

	events = {
		#seven_cities_events.1000 #Clearing of Seven Cities Hunt when goal is no longer possible
		religious_events.20
	}
}


# Estates pulse
on_five_year_pulse_2 = {
	random_events = {
		# Burghers
		100 = burghers_estate_events.1
		100 = burghers_estate_events.2
		100 = burghers_estate_events.3
		100 = burghers_estate_events.4
		100 = burghers_estate_events.5
		100 = burghers_estate_events.6
		100 = burghers_estate_events.7
		100 = burghers_estate_events.8
		100 = burghers_estate_events.9
		400 = burghers_estate_events.10 #Demands
		100 = burghers_estate_events.11 #Bonus
		100 = burghers_estate_events.12
		100 = burghers_estate_events.13
		400 = burghers_estate_events.14 #Demands
		100 = burghers_estate_events.15 #Disloyal
		# Nobles
		100 = nobles_estate_events.1 #Demands
		100 = nobles_estate_events.2
		100 = nobles_estate_events.3
		100 = nobles_estate_events.4
		400 = nobles_estate_events.5 #Demands
		100 = nobles_estate_events.6
		100 = nobles_estate_events.7
		400 = nobles_estate_events.8 #Disloyal
		400 = nobles_estate_events.9 #Disloyal
		50 = nobles_estate_events.10
		100 = nobles_estate_events.11 #Bonus
		# Clergy
		#Regional Variations:
		100 = church_estate_events.104
		
		100 = church_estate_events.2
		100 = church_estate_events.3
		100 = church_estate_events.4
		400 = church_estate_events.5 #Disloyal
		400 = church_estate_events.6 #Demands
		100 = church_estate_events.7 #Bonus
		100 = church_estate_events.8
		100 = church_estate_events.9
		100 = church_estate_events.10
		# Tribes
		100 = tribal_estate_events.1
		100 = tribal_estate_events.2
		100 = tribal_estate_events.3
		100 = tribal_estate_events.4
		100 = tribal_estate_events.5
		100 = tribal_estate_events.6
		100 = tribal_estate_events.7
		100 = tribal_estate_events.8
		100 = tribal_estate_events.9
		150 = tribal_estate_events.11 #Demands
		150 = tribal_estate_events.12 #Demands
		150 = tribal_estate_events.13 #Demands
		150 = tribal_estate_events.14 #Demands
		
		400 = rauthyr_estate_events.13
		400 = rauthyr_estate_events.15


		# Random
		1000 = 0
	}
}

#Early/Late Idea Group Events
on_five_year_pulse_3 = {
	random_events = {
		1000 = 0
	}
}

on_five_year_pulse_4 = {
	#fail-safe if for whatever reason these flags stay after being used in events
	if = {
		limit = {
			had_country_flag = {
				flag = advisor_events_adm
				days = 720
			}
		}
		clr_country_flag = advisor_events_adm
	}
	if = {
		limit = {
			had_country_flag = {
				flag = advisor_events_dip
				days = 720
			}
		}
		clr_country_flag = advisor_events_dip
	}
	if = {
		limit = {
			had_country_flag = {
				flag = advisor_events_mil
				days = 720
			}
		}
		clr_country_flag = advisor_events_mil
	}
}

# El Dorado
# FROM = country doing the exploring, ROOT = province discovered
on_explore_coast = {
	if = {
		limit = {
			NOT = {has_global_flag = golden_sun_discovered}
			#is_empty = yes
			province_id = 1006
		}
		FROM={country_event = {id = colonial.30}}
	}
}
on_conquistador_empty = {
	if = {
		limit = {
			NOT = {has_global_flag = golden_sun_discovered}
			#is_empty = yes
			province_id = 1006
		}
		FROM={country_event = {id = colonial.30}}
	}
	random_events = {
		# 10 = seven_cities_events.1
		# 10 = seven_cities_events.2
		# 10 = seven_cities_events.3
		# 10 = seven_cities_events.4
		# 10 = seven_cities_events.5
		# 10 = seven_cities_events.6
		# 10 = seven_cities_events.7
		# 10 = seven_cities_events.8

		# 10 = seven_cities_events.100
		# 10 = seven_cities_events.101
		# 10 = seven_cities_events.102
		# 10 = seven_cities_events.103
		# 10 = seven_cities_events.104
		# 10 = seven_cities_events.105

		# 50 = seven_cities_events.200
		# 50 = seven_cities_events.201
		# 50 = seven_cities_events.202
		# 50 = seven_cities_events.203
		# 50 = seven_cities_events.204
		# 50 = seven_cities_events.205
		# 50 = seven_cities_events.206
		# 50 = seven_cities_events.207
		# 50 = seven_cities_events.208
		# 50 = seven_cities_events.209
		# 50 = seven_cities_events.210
		# 50 = seven_cities_events.211
		# 50 = seven_cities_events.212
		# 50 = seven_cities_events.213
		# 50 = seven_cities_events.214
		# 50 = seven_cities_events.215
		# 50 = seven_cities_events.216
		# 50 = seven_cities_events.217
		# 50 = seven_cities_events.218
		# 50 = seven_cities_events.219
		# 50 = seven_cities_events.220
		# 50 = seven_cities_events.221
		# 50 = seven_cities_events.222
		# 50 = seven_cities_events.223

		# 10 = seven_cities_events.302
		# 10 = seven_cities_events.303
		# 10 = seven_cities_events.308
		# 10 = seven_cities_events.309

		# 10 = seven_cities_events.400
		# 10 = seven_cities_events.401
		# 10 = seven_cities_events.402
		# 10 = seven_cities_events.405
		# 10 = seven_cities_events.406
		# 10 = seven_cities_events.407
		# 10 = seven_cities_events.408
		# 10 = seven_cities_events.409
		# 10 = seven_cities_events.410
		# 10 = seven_cities_events.413
		# 10 = seven_cities_events.414

		2000 = 0
	}
}

on_conquistador_native = {
	random_events = {
		# 10 = seven_cities_events.300
		# 10 = seven_cities_events.301
		# 10 = seven_cities_events.303
		# 10 = seven_cities_events.304
		# 10 = seven_cities_events.305
		# 10 = seven_cities_events.306
		# 10 = seven_cities_events.307
		# 10 = seven_cities_events.308
		# 10 = seven_cities_events.309
		# 10 = seven_cities_events.310

		250 = 0
	}
}

on_buy_religious_reform = {
}

on_circumnavigation = {
}

on_become_free_city = {
}

on_remove_free_city = {
}

on_revoke_estate_land_ai = { #AI can't handle the rebels atm or perform a gradual revoke, sorry
	add_province_modifier = {
		name = revoked_estate_modifier
		duration = 5475 #15 years
	}
}

on_revoke_estate_land = {
	add_province_modifier = {
		name = revoked_estate_modifier
		duration = 5475 #15 years
	}
	if = {
		limit = {
			has_estate = estate_church
			has_owner_religion = yes
			owner = {
				NOT = {
					estate_loyalty = {
						estate = estate_church
						loyalty = 40
					}
				}
			}
		}
		spawn_rebels = {
			type = religious_rebels
			size = 1
		}
		province_event = { id = church_estate_events.11 }
	}
	if = {
		limit = {
			has_estate = estate_church
			has_owner_religion = no
			owner = {
				NOT = {
					estate_loyalty = {
						estate = estate_church
						loyalty = 40
					}
				}
			}
		}
		spawn_rebels = {
			type = particularist_rebels
			size = 1
		}
		province_event = { id = church_estate_events.11 }
	}
	if = {
		limit = {
			has_estate = estate_nobles
			owner = {
				NOT = {
					estate_loyalty = {
						estate = estate_nobles
						loyalty = 40
					}
				}
			}
		}
		spawn_rebels = {
			type = noble_rebels
			size = 1
		}
		province_event = { id = nobles_estate_events.12 }
	}
	if = {
		limit = {
			has_estate = estate_burghers
			owner = {
				NOT = {
					estate_loyalty = {
						estate = estate_burghers
						loyalty = 40
					}
				}
			}
		}
		spawn_rebels = {
			type = particularist_rebels
			size = 1
		}
		province_event = { id = burghers_estate_events.16 }
	}
	if = {
		limit = {
			has_estate = estate_nomadic_tribes
			owner = {
				NOT = {
					estate_loyalty = {
						estate = estate_nomadic_tribes
						loyalty = 40
					}
				}
			}
		}
		spawn_rebels = {
			type = tribal_rebels
			size = 1
		}
		province_event = { id = tribal_estate_events.10 }
	}
}

on_revoke_estate_land_ai_post = {
	add_local_autonomy = 25
}
on_revoke_estate_land_post = {
	add_local_autonomy = 25
}

on_grant_estate_land = {
	if = {
		limit = {
			has_province_modifier = revoked_estate_modifier
		}
		remove_province_modifier = revoked_estate_modifier
	}
}

on_death_has_harem = {
	if = {
		limit = {
			has_heir = no
		}
		#country_event = { id = harem_events.2 }
	}
}

on_select_heir_from_harem = {
}

on_fetishist_cult_change = {
	if = {
		limit = {
			has_country_flag = lost_ancestral_lands
			NOT = { has_adopted_cult = zanahary_cult }
			NOT = { has_adopted_cult = central_african_ancestor_cult }
		}
		clr_country_flag = lost_ancestral_lands
	}
}
# country
on_gain_great_power_status = {
	if = {
		limit = {
			NOT = { has_country_flag = became_great_power_flag }
		}
		set_country_flag = became_great_power_flag
	}
}

# country
on_lose_great_power_status = {
}

# province
on_province_religion_converted = {
	on_province_religion_converted_estate_privileges_effect = yes
}

# province
on_province_culture_converted = {
	on_province_culture_converted_estate_privilges_effect = yes}

# THIS = Province, FROM = Country who Propogated
on_convert_by_trade_policy = {
}

# province
# FROM = old owner
on_province_owner_change = {
	if = {
		limit = {
			NOT = {has_global_flag = golden_sun_discovered}
			province_id = 1006
		}
		owner={country_event = {id = colonial.30}}
	}
}

# country
on_parliament_debate_failed = {
}

# country
on_parliament_debate_succeeded = {
}

# country
on_harmonized_pagan = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.1
	}
}
on_harmonized_christian = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.2
	}
}
on_harmonized_muslim = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.3
	}
}
on_harmonized_jewish_group = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.5
	}
}
on_harmonized_zoroastrian_group = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.6
	}
}
on_harmonized_dharmic = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.4
	}
}
on_harmonized_mahayana = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.9
	}
}
on_harmonized_buddhism = { #Theravada
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.8
	}
}
on_harmonized_shinto = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.7
	}
}
on_harmonized_vajrayana = {
	on_harmonized_religion_estate_privileges_effect = yes
	events = {
		confucian_events.10
	}
}
on_russian_sudebnik = {

}

# country
on_russian_oprichnina = {

}
on_russian_streltsy = {

}

# province
on_consecrate_patriarch = {
}

# country. from = overlord
on_accept_tribute = {
}

# country. from = overlord
on_refuse_tribute = {
}

# country
on_leader_recruited = {
	if = {
		limit = {
			has_estate_privilege = estate_nobles_command_of_the_military
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			influence = 5
			duration = 3650
			desc = EST_VAL_NOBLE_LEADER
		}
	}
}

# country
on_general_recruited = {
	add_army_professionalism = 0.01
}

# country
on_admiral_recruited = {
}

# country
on_conquistador_recruited = {
}

# country
on_explorer_recruited = {
}

# THIS = Province, FROM = Country
on_regiment_recruited = {

}

# THIS = Province, FROM = Country
on_mercenary_recruited = {
	FROM = {
		add_army_professionalism = -0.05
	}
}

# THIS = One province in the state
on_add_pasha = {
}

# THIS = One province in the state
on_remove_pasha = {
	hidden_effect = {
		owner = {
			save_event_target_as = province_owner
		}
		remove_province_modifier = pasha_removed_modifier
	}

	area = {
		limit = { owned_by = event_target:province_owner }
		add_or_extend_province_modifier_effect = { MODIFIER = pasha_removed_modifier DURATION = 3650 }
	}
}

# THIS = Province
on_janissaries_raised = {
}

on_cawa_raised = {
}
on_revolutionary_guard_raised = {
}

on_reform_enacted = {
}

on_reform_changed = {
}

on_trade_company_investment = {
}

on_center_of_trade_upgrade = {

}

on_center_of_trade_downgrade = {

}

on_culture_promoted = {
}

on_culture_demoted = {
}

on_primary_culture_changed = {

}# FROM = Previous Country, ROOT = Province
on_company_chartered = {
}

# ROOT = Overlord, FROM = Minor
on_dependency_gained = {
	events = {
	}
}

# ROOT = Overlord, FROM = Minor
on_dependency_lost = {

}

# ROOT = New vassal, FROM = Overlord
on_create_vassal = {

}

# ROOT = Country establishing it
# First province in state is set
on_holy_order_established = {

}

# When a minority is expelled to a colony
# THIS = Colony, ROOT = Colony, FROM = Home province
on_minority_expelled = {

}

# THIS = Raiding country, FROM = Sea province
on_raid_coast = {
	if = {
		limit = {
			has_faction = pr_buccaneers
		}
		add_faction_influence = {
			faction = pr_buccaneers
			influence = 1
		}
	}
}

# ROOT = Tag that captured the flagship, FROM = Tag that lost the flagship
on_flagship_captured = {
	FROM = {
		set_country_flag = captured_flagship_country_flag
	}
	ROOT = {
		country_event = { id = flagship_events.2 }
		set_country_flag = trophy_hunter_flag
	}
	FROM = {
		country_event = { id = flagship_events.1 }
	}
}

# ROOT = Tag that destroyed the flagship, FROM = Tag that lost the flagship
on_flagship_destroyed = {
	FROM = {
		set_country_flag = sunk_flagship_country_flag
	}
	ROOT = {
		country_event = { id = flagship_events.4 }
	}
	FROM = {
		country_event = { id = flagship_events.3 }
	}
}

# this = Released country, FROM = Releasing country
on_country_released = {
	if={
		limit={
			NOT={primary_culture = donamenz}
			goverment = mannish_tribal
		}
		change_government = bronze_age_monarchy
	}
}

# ROOT = province, FROM = country
on_trade_good_changed = {
#	on_trade_good_changed_estate_privileges_effect = yes
#	if = {
#		limit = {
#			OR = {
#				has_province_modifier = wine_bonus_prod
#				has_province_modifier = grain_bonus_prod
#			}
#			FROM = { has_reform = monastic_breweries_reform }
#			NOT = { owner = { has_reform = monastic_breweries_reform } }
#		}
#		remove_province_modifier = wine_bonus_prod
#		remove_province_modifier = grain_bonus_prod
#	}
#	hidden_effect = {
#		if = {
#			limit = {
#				trade_goods = wine
#			}
#			remove_province_modifier = grain_bonus_prod
#			add_province_modifier = { 
#				name = wine_bonus_prod
#				duration = -1
#				hidden = yes
#			}
#		}
#		if = {
#			limit = {
#				trade_goods = grain
#			}
#			remove_province_modifier = wine_bonus_prod
#			add_province_modifier = { 
#				name = grain_bonus_prod
#				duration = -1
#				hidden = yes
#			}
#		}
#	}
}

# this = country
on_loan_repaid = {
	on_loan_repaid_estate_privileges_effect = yes
}

# this = country
on_rebels_break_country = {
	add_country_modifier = {
		name = just_lost_to_rebels
		duration = 10
		hidden = yes
	}
	if={
		limit={
			has_country_flag = RAU_crisis_12th_ongoing
		}
		add_disaster_progress = {
			disaster = crisis_of_the_12th_century
			value = 100
		}
	}
	if={
		limit={
			has_country_flag = iron_age_calamity_possible
			NOT = { is_year = 1400 }
		}
		iac_collapse_nation = yes
	}
}

# this = country
## Fires when you fire or replace your ADM advisor, in the moment before they are actually removed from their post.
## Note: Defining a new advisor here will result in the shortest appointment in history. Use on_post_adm_advisor_fired instead :)
on_pre_adm_advisor_fired = {
	if = {
		limit = {
			has_country_flag = need_to_fire_adm_advisor
		}
		set_country_flag = just_fired_adm_advisor
		remove_advisor_by_category_no_action = ADM
	}
}

# this = country
on_pre_dip_advisor_fired = {
	if = {
		limit = {
			has_country_flag = need_to_fire_dip_advisor
		}
		set_country_flag = just_fired_dip_advisor
		remove_advisor_by_category_no_action = DIP
	}
}

# this = country
on_pre_mil_advisor_fired = {
	if = {
		limit = {
			has_country_flag = need_to_fire_mil_advisor
		}
		set_country_flag = just_fired_mil_advisor
		remove_advisor_by_category_no_action = MIL
	}
}

# this = country
on_post_adm_advisor_fired = {

}

# this = country
on_post_dip_advisor_fired = {
	
}

# this = country
on_post_mil_advisor_fired = {
	
}

# this = new client state, from = parent country
on_create_client_state = {
	if = {
		limit = {
			has_dlc = "Emperor"
			FROM = {
				is_revolutionary = yes
			}
			government = republic
		}
		add_government_reform = junior_revolutionary_republic_reform
		set_country_flag = had_revolution
	}
}

# this = new target, from = previous target (both can be non-existent tag)
on_change_revolution_target = {
	if = {
		limit = { has_reform = junior_revolutionary_republic_reform }
		add_government_reform = revolutionary_republic_reform
	}
}

# this = curia controller (enactor of the bull)
on_golden_bull_enacted = {
	set_country_flag = enacted_golden_bull
}


# province:  spawned whenever a new owner takes over the province
# FROM = The previous owner.
on_conquest = {
	remove_named_unrest = estate_land_seized
}

on_country_creation = {
}
on_federation_leader_change = {
	if = {
		limit = { tag = FROM }
		disband_federation = THIS
	}
	else = {
		# New strongest member becomes the new federation leader
		set_federation_leader = THIS
	}
}

#FROM = country pillaged, ROOT = country doing the pillaging
on_pillaged_capital = {
	slave_raid_pillage_capital_effect = yes
}

#FROM = country dev was transferred from, ROOT = country doing the transferring
on_transfer_development = {
}

on_colonial_type_change = {
	clr_country_flag = encourage_cash_crops_flag
}

on_estate_led_regency = {
}

on_estate_led_regency_surpassed = {
	if = {
		limit = {
			is_lesser_in_union = no
			num_of_powerful_estates = 1
			has_estate_led_regency = {
				estate = any
			}
			NOT = {
				estate_led_regency_influence = 70
			}
			OR = {
				AND = {
					has_estate_led_regency = {
						estate = estate_burghers
					}
					NOT = {
						has_estate_loyalty_modifier = {
							estate = estate_church
							modifier = REFUSED_REGENCY
						}
					}
					NOT = {
						has_estate_loyalty_modifier = {
							estate = estate_nobles
							modifier = REFUSED_REGENCY
						}
					}
				}
				AND = {
					has_estate_led_regency = {
						estate = estate_church
					}
					NOT = {
						has_estate_loyalty_modifier = {
							estate = estate_burghers
							modifier = REFUSED_REGENCY
						}
					}
					NOT = {
						has_estate_loyalty_modifier = {
							estate = estate_nobles
							modifier = REFUSED_REGENCY
						}
					}
				}
				AND = {
					has_estate_led_regency = {
						estate = estate_nobles
					}
					NOT = {
						has_estate_loyalty_modifier = {
							estate = estate_burghers
							modifier = REFUSED_REGENCY
						}
					}
					NOT = {
						has_estate_loyalty_modifier = {
							estate = estate_church
							modifier = REFUSED_REGENCY
						}
					}
				}
			}
		}
		country_event = { id = estate_regency_events.1 }
	}
}

on_extended_regency = {
	random_events = {
		100 = extended_regency_events.4
		100 = extended_regency_events.5
		100 = extended_regency_events.6
		
		300 = 0
	}
}

on_estate_removed = {
	if = {
		limit = {
			has_country_modifier = dhimmi_building_restrictions
			NOT = {
				has_estate = estate_dhimmi
			}
		}
		remove_country_modifier = dhimmi_building_restrictions
	}
}

##scope = colony province, FROM = owner country or province if there's a minority expulsion source
on_colonist_boosting_colony = {
	hidden_effect = {
		if = {
			limit = {
				OR = {
					religion = noreligion
					#test if colonists outnumber natives
					variable_arithmetic_trigger = {
						custom_tooltip = colonysize_is_larger_than_nativesize_tt
						export_to_variable = {
							which = vab_colonysize
							value = trigger_value:colonysize
						}
						export_to_variable = {
							which = vab_nativesize
							value = trigger_value:native_size
						}
						multiply_variable = {
							which = vab_nativesize
							value = 100
						}
						check_variable = {
							which = vab_colonysize
							which = vab_nativesize
						}
					}
					is_in_capital_area = yes
					OR = {
						continent = new_world
					}
					NOT = {
						OR = {
							has_dlc = "Dharma"
							has_dlc = "Wealth of Nations"
						}
					}
				}
			}
			change_religion = FROM
		}
		if = {
			limit = {
				OR = {
					culture = noculture
					#test if colonists outnumber natives
					variable_arithmetic_trigger = {
						custom_tooltip = colonysize_is_larger_than_nativesize_tt
						export_to_variable = {
							which = vab_colonysize
							value = trigger_value:colonysize
						}
						export_to_variable = {
							which = vab_nativesize
							value = trigger_value:native_size
						}
						multiply_variable = {
							which = vab_nativesize
							value = 100
						}
						check_variable = {
							which = vab_colonysize
							which = vab_nativesize
						}
					}
					is_in_capital_area = yes
					OR = {
						continent = new_world
					}
					NOT = {
						OR = {
							has_dlc = "Dharma"
							has_dlc = "Wealth of Nations"
						}
					}
				}
			}
			change_culture = FROM
			change_original_culture = FROM
		}
	}
}

#ROOT = converted country, FROM = country which force converts ROOT, on_action gets called on Force religion peace and Enforce Religion subject interaction
on_force_conversion = {
	#if = {	#Commented out for now because Catholicism has received a lot of buffs already.
	#	limit = {
	#		FROM = { religion = catholic }
	#	}
	#	if = {
	#		limit = { ROOT = { government_rank = 3 } }
	#		FROM = { add_papal_influence = 20 }
	#	}
	#	else_if = {
	#		limit = { ROOT = { government_rank = 2 } }
	#		FROM = { add_papal_influence = 10 }
	#	}
	#	else = {
	#		FROM = { add_papal_influence = 5 }
	#	}
	#}
}

on_institution_embracement = {}
on_national_focus_change = {}
on_capital_moved = {}

#ROOT = province that was expanded in, FROM = country that did it
on_expanded_infrastructure = {
}

#ROOT = province that was centralized in
on_centralized_state = {
}
monarch_on_shipwreck = {
}
heir_on_shipwreck = {
}
consort_on_shipwreck = {
}

#ROOT = country
on_defender_of_faith_loss = {
	clr_country_flag = claimed_defender_of_faith_flag
	remove_country_modifier = liv_the_livonian_defender
	remove_country_modifier = gov_improved_defender_of_faith_mod
	remove_country_modifier = pol_shield_against_catholicism_modifier
}
on_defender_of_faith_claim = {
}
on_hre_dismantled = {
}
on_new_age = {
}

#ROOT = province
on_adm_exploited = {
	if = {
		limit = { owner = { has_government_attribute = may_not_reduce_tax_on_exploitation } }
		random = {
			chance = 50
			add_base_tax = 1
		}
	}
	if = {
		limit = { owner = { has_government_attribute = may_not_reduce_tax_on_own_exploitation culture_group = ROOT } }
		random = {
			chance = 25
			add_base_tax = 1
		}
	}
	if = {
		limit = { owner = { has_government_attribute = may_not_reduce_tax_on_foreign_exploitation NOT = { culture_group = ROOT } } }
		random = {
			chance = 50
			add_base_tax = 1
		}
	}
}
on_dip_exploited = {
}
on_mil_exploited = {
}
on_raze = {
}
on_concentrate_development = {
}
