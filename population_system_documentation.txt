Pops work as follows:

Development:
    Base Tax - Middle Class
    Base Production - Working Class
    Base Manpower - Lower Class

Provincial Wealth # AKA Development. Provides bonus tax income & goods output
Provincial Capital # Money stored in province that can be used for improvements


POPULATION OVERVIEW:
    In order to provide a more controlled end-game income scheme, I've remade how development works. Instead of the old system where you had 
    base tax, base production, and base manpower, there are now three population types: Middle Class (Base Tax), Working Class 
    (Base Production), and Lower Class (Base Manpower).

    #Classes
    The Middle Class population are your artisans, clerks, merchants, artists, officers, mechanics, shopkeepers, engineers, doctors, and so on.
    Essentially, the individuals with excess income to spend on non-essentials and occasional luxuries. So, they give the largest amount of tax 
    income and edges out with the most goods production. They are often literate and politically active lending to an unruly reform-friendly 
    population. They are represented through base-tax because base-tax provides a  base of 1 yearly tax income which can only be removed by 
    adding a negative yearly income tax modifier thus making a very strange tooltip.

    The Working Class population are generally your craftsmen, factory workers, laborers, and yeomen farmers. They are the people who didn't 
    have the excess incomes of the Middle Class but were well off enough to alleviate the worst of the suffering and stay fed. This means that
    they provide the most manpower of the three categories, while also providing much more tax and goods production than the lower class. 
    This population generally desires to be literate if possible but are otherwise inert.

    The Lower Class population include slaves, serfs, peasants, and the urban poor. This population either had to work day-to-day or simply 
    had no soveriegnty. They provide decent amounts of manpower but contribute little in terms of tax income or goods production. This 
    population generally has no interest in becoming literate as their work requires no literacy and, combined with a lack of interest in 
    politics outside of the price of food, wields little political power.

    Each development represents 5k people.
    There will also be provincial modifiers for provinces with minor populations of middle/working/lower class for 1k, 2k, 3k, and 4k each.

    #Capacities
    There are capacities for each the Middle, Working, and Lower classes. When populations exceed this capacity, their growth gets 
    significantly reduced and the local population may seek to migrate to other provinces. Capacities can be increased by buildings.

    #Arable Land, Agricultural Efficiency, & Food
    In each province, there is a set amount of 'arable land' that the province has. This determines its basic capacity. Each unit of 
    arable land can sustain a certain number of 'farmers' (through capacities). Arable Land will only produce food if there are 
    farmers (Lower class pops) to fulfill that role. If there happens to be 8 arable land in a province, then that province will have 
    a base of 8 Lower Class Pop Capacity. If the population is in excess of its lower class capacity, then additional food will be grown 
    (though with diminishing returns).

    Arable Land can be set manually in each province. However, if it is not set manually, then the system will set it automatically
    based upon terrain:
        base - 0.5
        glacier - 2.5
        farmland - 9
        forest - 4
        hills - 5
        woods - 6
        mountain - 2.5
        grasslands - 7.5
        jungle - 3
        marsh - 1.5
        desert - 1.5
        coastal_desert - 3.5
        coastline - 4
        drylands - 4.5
        highlands - 4.5
        savannah - 4
        steppe - 4.5
        deepwoods - 3.5
        deepwoods_city - 7.5
        glassy_plains - 0.5
        vitaite_hills - 2
        redmarsh - 3.5
        great_bridge - 3
        great_mountain_pass - 3
        #NOTE: list could always be outdated. List used in-game is at SYS-Pops.txt under common/scripted_effects at Pops_GetArableLand

    Agricultural Efficiency decreases the capacity that arable land provides & requires while increasing the food output, allowing 
    for a wealthier province with less population required to grow its crops.

    'Staffed' Arable Land will provide food. If a country has a food surplus (where food production & imports - exports > food consumption) 
    then population will grow. If a country has a food deficit, then populations will stagnate or (at high enough deficits) decline.

    #Wealth
    Wealth is a value that goes from 0 (mass poverty) to 100 (opulent beyond imagination). As wealth increases, tax income, goods production, 
    and trade power increases. As a result, wealthy provinces will not only produce more, but also control more trade. Thus a wealthy Yhenil 
    may end up outcompeting any neighboring province based on wealth alone. 

    If a province is sieged, then some of its wealth may be pillaged. Each wealth pillaged will provide 2 ducats per pop while devastating
    the province. 10% of a province's wealth will be pillaged while another 10% will be destroyed when occupied. Afterwards, it cannot be
    pillaged for 5 years.

    #Capital
    In addition to your country, provinces will also have income to spend as well. Provinces will earn a set rate of money based on capital 
    generation. Capital is produced by the different pop types. Buildings may also produce additional capital. National modifiers may also 
    affect capital generation. High autonomy will also increase this value.

    Using this capital, they can use it to either A: Improve the wealth of the province, B: Maintain the wealth of the province, 
    C: Improve the Agricultural Efficiency, D: Maintain the current Agricultural Efficiency, or E: Build a Building. 
    Improving provincial wealth/Agri Eff takes a lot of capital to do. Maintaining provincial wealth/Agri eff also takes a lot 
    of capital to do. It is important to note that provinces will only use wealth created from autonomy on building buildings or 
    maintaining existing wealth/Agri eff.

    Each wealth value costs 0.1 capital to maintain per pop. Each percentage of Agricultural Efficiency takes 0.2 capital to maintain per
    arable land. It takes 5.0 capital per pop to increase wealth by 1 and 5.0 capital per pop to increase Agricultural Efficiency by 1%.

    Each Middle Class pop generates 1.2 capital and devotes all of it to improving & maintaining Wealth/Buildings, each Working Class pop
    generates 0.6 capital and devotes half to Wealth/Buildings and the other half to Agricultural Efficiency, and each Lower Class pop
    generates 0.3 capital and devotes all of it to AE. Agricultural efficiency will increase the amount of wealth Lower Class pops generate
    so at 100% efficiency Lower Class pops generate double their wealth value.

    #Adding or Removing Population
    To add population, use the add_population scripted effect
    add_population = { middle = 1 working = 1 lower = 1 }

    there is also remove
    remove_population = { middle = 1 working = 1 lower = 1 }
    
    For the technical details, add_population will add the respective development types while updating the province values.
    Doing it through the normal add_base_tax/add_base_production/add_base_manpower will have the same end effect, but it will
    not update the tooltip values to reflect changes. 

    If you want to add/remove population as a pure number you can do that as well with the same effects.
    add_population = { total_pop = 2.0 middle_pop = 1.2 working_pop = 1.4 lower_pop = 1.1 }
    remove_population = { total_pop = 2.0 middle_pop = 1.2 working_pop = 1.4 lower_pop = 1.1 }

    You can also scale population. Basically each value gets multiplied by these. The multiplication compounds, so 
    in this case middle_pop gets multiplied by 1.2*1.2 = 1.44.
    scale_population = { total_pop = 1.2 middle_pop = 1.2 working_pop = 1.4 lower_pop = 1.1 }

Pop Classes:        Tax Income (yrly)  Goods Produced    Manpower   Trade Power         TOTAL INCOME (yearly)   Base Capital Generation
    Middle Class:      1.0                  0.12           250         3.0                  1.315                       1.0
    Working Class:     0.4                  0.10           300         0.5                  0.663                       0.5
    Lower Class:       0.3                  0.04           200         0.1                  0.379                       0.25

RESEARCH:

    #England
    Taxation:   11.29
    Production: 5.56
    Trade:      8.05
    Total:      24.91

    Forcelimit: 31.33 from prov
    Manpower: 18.611 from prov

    State Maintenance: 2.39
    Army Maintenance: 9.03

    Development:    338
        BT :        126
        Prod:       127
        Man:        85
    
    Income to Dev Ratio:        0.0736 (0.884 yrly)
    Tax/Prod to BT/BP Ratio:    0.0671 (0.805 yrly)
    Taxation to BT Ratio:       0.0896 (1.075 yrly)
    Production to BP Ratio:     0.0438 (0.525 yrly)
    Trade to BP Ratio:          0.0634 (0.76 yrly)
    Manpower to BM Ratio:       219
    Forcelimit to Dev Ratio:    0.0927
    Army Maint to Dev Ratio:    0.0267

Variables:
    COUNTRY
    food_surplus       

    PROVINCES


    total_pop           #Population Total
    rural_pop           #Rural Population
    rural_pop_cap       #Rural Population Capacity
    urban_pop           #Urban Population
    urban_pop_cap       #Urban Population Capacity

    food_prod           #Food Production
    agri_eff_base       #Base Agricultural Efficiency. Has to be maintained by local population.
    agri_eff            #Agricultural Efficiency. Actual agricultural efficiency value used
    wealth              #Wealth
    wealth_expense      #Wealth Expense - Amount required to maintain wealth level
    capital             #Capital - Money stored

    middle_pop          #Middle Class Population (in population count)
    working_pop         #Working Class Population (in population count)
    lower_pop           #Lower Class Population (in population count)

    


